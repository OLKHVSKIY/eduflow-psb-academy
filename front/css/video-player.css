/* EduFlow Video Player - Enhanced Liquid Glass Style with YouTube-like Navigation */
:root {
  --psb-blue: #0033A0;
  --psb-orange: #FF6B35;
  --psb-white: #FFFFFF;
  --psb-light-blue: #F0F5FF;
  --psb-gray: #64748b;
  --psb-light-gray: #f8fafc;
  --psb-border: #e2e8f0;
  --psb-dark: #1e293b;
 
  /* Liquid Glass Variables */
  --glass-bg: rgba(255, 255, 255, 0.98);
  --glass-border: rgba(0, 51, 160, 0.15);
  --glass-shadow: 0 20px 60px rgba(0, 51, 160, 0.2);
  --glass-blur: blur(12px);
  --primary-gradient: linear-gradient(135deg, #0033A0, #0066CC);
  --accent-gradient: linear-gradient(135deg, #FF6B35, #FF8C42);
 
  /* Comment Colors */
  --comment-color: #3B82F6;
  --question-color: #EF4444;
  --idea-color: #10B981;
  --important-color: #F59E0B;
}



/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–∏–¥–µ–æ-–ø–ª–µ–µ—Ä–∞ */
.modal {
  display: none;
  position: fixed;
  z-index: 10000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(8px);
  align-items: center;
  justify-content: center;
}
.modal.show {
  display: flex;
}
.video-modal {
  width: 95%;
  max-width: 1600px;
  height: 95vh;
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: 28px;
  box-shadow: var(--glass-shadow);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 22px 10px 22px;
  background: linear-gradient(135deg, var(--psb-blue), #023999);
  border-radius: 28px 28px 0 0;
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
}

.modal-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
  opacity: 0.3;
}
.modal-header-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.modal-header h3 {
  margin: 0;
  color: white;
  font-weight: 700;
  font-size: 1.3rem;
  line-height: 1.3;
}
.video-meta {
  display: flex;
  align-items: center;
  gap: 16px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.85rem;
}
.video-meta-item {
  display: flex;
  align-items: center;
  gap: 6px;
}
.modal-close {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: white;
  font-size: 1.2rem;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  flex-shrink: 0;
}
.modal-close:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: rotate(90deg) scale(1.1);
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≤–∏–¥–µ–æ –∏ —Å–∞–π–¥–±–∞—Ä–æ–º */
.video-main-container {
  display: flex;
  flex: 1;
  min-height: 0;
  overflow: hidden;
  gap: 0;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–µ–æ - –ë–û–õ–¨–®–ï –ú–ï–°–¢–ê –ù–ê –î–ï–°–ö–¢–û–ü–ï */
.video-player-container {
  flex: 4; /* 80% –º–µ—Å—Ç–∞ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
  position: relative;
  background: #000;
  display: flex;
  flex-direction: column;
  min-height: 0;
}
.video-wrapper {
  position: relative;
  width: 100%;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 0;
}
#mainVideo {
  width: 100%;
  height: 100%;
  max-height: 100%;
  object-fit: contain;
  outline: none;
}

/* –û–≤–µ—Ä–ª–µ–π —Å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –∫—Ä—É–≥–∞–º–∏ */
.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 60px;
  background: rgba(0, 0, 0, 0.4);
  opacity: 0;
  transition: all 0.3s ease;
  cursor: pointer;
  pointer-events: none; /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω */
}

/* –í —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π CSS –¥–æ–±–∞–≤—å—Ç–µ: */
.video-wrapper.controls-visible .custom-controls,
.video-wrapper.controls-visible .video-overlay {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.play-pause-btn {
  position: relative;
  background: rgba(255, 255, 255, 0.85); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–µ–ª—ã–π */
  border: none;
  border-radius: 50%;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--psb-blue);
  font-size: 2rem;
  transition: all 0.3s ease;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  z-index: 1;
}

/* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—Ä—É–≥ —Å–∑–∞–¥–∏ */
.play-pause-btn::before {
  content: '';
  position: absolute;
  top: -15px;
  left: -15px;
  right: -15px;
  bottom: -15px;
  background: rgba(255, 255, 255, 0.2); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–µ–ª—ã–π —Ñ–æ–Ω */
  border-radius: 50%;
  z-index: -1;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  opacity: 0;
  transition: all 0.3s ease;
}

.play-pause-btn:hover::before {
  opacity: 1;
  transform: scale(1.1);
}

/* –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç –ª—é–±—ã—Ö —Å–µ—Ä—ã—Ö –∫—Ä—É–≥–æ–≤ */
.play-pause-btn::after,
.big-control::after {
  display: none !important;
}

/* –£–±–∏—Ä–∞–µ–º –ª—é–±—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ–Ω—ã */
.video-overlay *::before,
.video-overlay *::after {
  background: transparent !important;
}

.play-pause-btn:hover {
  background: rgba(255, 255, 255, 0.95);
  transform: scale(1.15);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
}

.big-control {
  position: relative;
  background: rgba(255, 255, 255, 0.85); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–µ–ª—ã–π */
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--psb-blue);
  font-size: 1.5rem;
  transition: all 0.3s ease;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  z-index: 1;
}

/* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—Ä—É–≥ —Å–∑–∞–¥–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–Ω–æ–ø–æ–∫ */
.big-control::before {
  content: '';
  position: absolute;
  top: -12px;
  left: -12px;
  right: -12px;
  bottom: -12px;
  background: rgba(255, 255, 255, 0.2); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–µ–ª—ã–π —Ñ–æ–Ω */
  border-radius: 50%;
  z-index: -1;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  opacity: 0;
  transition: all 0.3s ease;
}

.big-control:hover::before {
  opacity: 1;
  transform: scale(1.1);
}

.big-control:hover {
  background: rgba(255, 255, 255, 0.95);
  transform: scale(1.15);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
}

/* –°–∞–π–¥–±–∞—Ä —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ - –£–ñ–ï –ù–ê –î–ï–°–ö–¢–û–ü–ï */
.markers-sidebar {
  flex: 1; /* 20% –º–µ—Å—Ç–∞ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
  background: var(--psb-light-gray);
  border-left: 1px solid var(--psb-border);
  display: flex;
  flex-direction: column;
  min-height: 0;
  max-width: 330px; /* –£–í–ï–õ–ò–ß–ò–õ –ù–ê 30px */
}
.markers-sidebar-content {
  padding: 20px;
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
}
.markers-sidebar .section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-shrink: 0;
}
.markers-sidebar .section-header h4 {
  color: var(--psb-dark);
  margin: 0;
  font-weight: 700;
  font-size: 1.1rem;
}
.markers-count {
  color: var(--psb-gray);
  font-size: 0.85rem;
  font-weight: 500;
}
.markers-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
  overflow-y: auto;
}
.marker-item {
  background: var(--psb-white);
  border: 1px solid var(--psb-border);
  border-radius: 12px;
  padding: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 12px;
}
.marker-item:hover {
  background: var(--psb-light-blue);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  border-color: var(--psb-blue);
}
.marker-color {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  flex-shrink: 0;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}
.marker-color.comment { background: var(--comment-color); }
.marker-color.question { background: var(--question-color); }
.marker-color.idea { background: var(--idea-color); }
.marker-color.important { background: var(--important-color); }
.marker-info {
  flex: 1;
  min-width: 0;
}
.marker-time {
  color: var(--psb-dark);
  font-weight: 700;
  font-size: 0.9rem;
  margin-bottom: 4px;
}
.marker-preview {
  color: var(--psb-gray);
  font-size: 0.8rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* –ù–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ö–û–ù–¢–†–û–õ–û–í - –¢–ê–ô–ú–õ–ê–ô–ù –û–¢–î–ï–õ–¨–ù–û */
.custom-controls {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top,
      rgba(0, 0, 0, 0.9) 0%,
      rgba(0, 0, 0, 0.7) 60%,
      transparent 100%
  );
  padding: 0;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease;
  z-index: 10;
  display: flex;
  flex-direction: column;
  pointer-events: none; /* –î–æ–±–∞–≤–ª—è–µ–º —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª–∏ –∫–ª–∏–∫–∞–º */
}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
.video-wrapper:hover .custom-controls,
.video-wrapper:focus-within .custom-controls,
.video-wrapper.paused .custom-controls,
.video-wrapper.controls-visible .custom-controls {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* –¢–ê–ô–ú–õ–ê–ô–ù - –û–¢–î–ï–õ–¨–ù–´–ô –ë–õ–û–ö –í –°–ê–ú–û–ú –ù–ò–ó–£ */
.timeline-container {
  width: 100%;
  position: relative;
  height: 4px;
  background: transparent;
  margin: 0;
  padding: 0;
  cursor: pointer;
}

.video-progress-bar {
  position: relative;
  width: 100%;
  height: 4px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 0;
  cursor: pointer;
  overflow: visible;
  transition: height 0.2s ease;
}

.video-progress-bar:hover {
  height: 6px;
}

.video-progress-fill {
  position: absolute;
  height: 100%;
  background: var(--psb-orange);
  border-radius: 0;
  width: 0%;
  transition: width 0.1s ease;
}

.video-progress-thumb {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 12px;
  height: 12px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  cursor: pointer;
  z-index: 2;
  opacity: 0;
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.video-progress-bar:hover .video-progress-thumb {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1.2);
}

/* –ú–∞—Ä–∫–µ—Ä—ã –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–µ */
.markers-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.marker {
  position: absolute;
  top: -3px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  transform: translateX(-50%);
  cursor: pointer;
  pointer-events: all;
  transition: all 0.3s ease;
  border: 2px solid white;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  z-index: 3;
}

.marker:hover {
  transform: translateX(-50%) scale(1.4);
}

.marker.comment { background: var(--comment-color); }
.marker.question { background: var(--question-color); }
.marker.idea { background: var(--idea-color); }
.marker.important { background: var(--important-color); }
.marker.active {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7),
                  0 1px 4px rgba(0, 0, 0, 0.3);
  }
  70% {
      box-shadow: 0 0 0 8px rgba(59, 130, 246, 0),
                  0 1px 4px rgba(0, 0, 0, 0.3);
  }
  100% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0),
                  0 1px 4px rgba(0, 0, 0, 0.3);
  }
}

/* –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ù–ê–î –¢–ê–ô–ú–õ–ê–ô–ù–û–ú */
.controls-panel {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  gap: 8px;
}

.controls-center {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 16px;
}

/* –£–ë–†–ê–õ –ú–ê–õ–ï–ù–¨–ö–ò–ï –ö–ù–û–ü–ö–ò - –æ—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ –±–æ–ª—å—à–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ */
.control-btn {
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px;
  border-radius: 50%;
  width: 40px;
  height: 40px;
}

.control-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.control-btn:active {
  transform: scale(1);
}

/* –í—Ä–µ–º—è —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞ */
.time-display {
  color: white;
  font-size: 0.85rem;
  font-weight: 500;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
  padding: 0 8px;
}

/* –ü—Ä–∞–≤—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã (—Å–∫–æ—Ä–æ—Å—Ç—å, –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º) */
.controls-right {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left: auto;
}

/* –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ */
.speed-control {
  position: relative;
}

.speed-options {
  position: absolute;
  bottom: 100%;
  right: 0;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: 8px;
  padding: 8px;
  display: none;
  flex-direction: column;
  gap: 4px;
  min-width: 80px;
  box-shadow: var(--glass-shadow);
  backdrop-filter: var(--glass-blur);
  z-index: 20;
}

.speed-control:hover .speed-options {
  display: flex;
}

.speed-options button {
  background: transparent;
  border: none;
  color: var(--psb-dark);
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.8rem;
  font-weight: 500;
  text-align: center;
}

.speed-options button:hover,
.speed-options button.active {
  background: var(--psb-light-blue);
  color: var(--psb-blue);
}

/* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–∞–π–¥–±–∞—Ä–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
.markers-toggle-btn {
  display: none;
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 1.2rem;
  padding: 4px;
  border-radius: 4px;
}

.markers-toggle-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* –ü–∞–Ω–µ–ª—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ */
.video-panel {
  height: 250px;
  background: var(--glass-bg);
  border-top: 1px solid var(--glass-border);
  position: relative;
  flex-shrink: 0;
}

.comments-section {
  padding: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.comments-section .section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  flex-wrap: wrap;
  gap: 12px;
  flex-shrink: 0;
}

.comments-section .section-header h4 {
  color: var(--psb-dark);
  margin: 0;
  font-weight: 700;
  font-size: 1.1rem;
}

/* –ö–Ω–æ–ø–∫–∏ */
.btn-primary {
  background: var(--primary-gradient);
  border: none;
  border-radius: 8px;
  padding: 8px 16px;
  color: white;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.85rem;
  box-shadow: 0 2px 8px rgba(0, 51, 160, 0.3);
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 51, 160, 0.4);
}

/* –§–∏–ª—å—Ç—Ä—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ */
.comments-filters {
  display: flex;
  gap: 6px;
  margin-bottom: 16px;
  flex-wrap: wrap;
  align-items: center;
  flex-shrink: 0;
}

.filter-btn {
  background: var(--psb-light-gray);
  border: 1px solid var(--psb-border);
  border-radius: 16px;
  padding: 5px 10px;
  color: var(--psb-gray);
  cursor: pointer;
  font-size: 0.7rem;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 4px;
  font-weight: 500;
}

.filter-btn.active {
  background: var(--psb-blue);
  color: white;
  border-color: var(--psb-blue);
}

.filter-btn:hover:not(.active) {
  background: var(--psb-light-blue);
  border-color: var(--psb-blue);
}

/* –°–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ */
.comments-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1;
  overflow-y: auto;
  min-height: 0;
}

.comment-item {
  background: var(--psb-light-gray);
  border: 1px solid var(--psb-border);
  border-radius: 8px;
  padding: 12px;
  transition: all 0.3s ease;
  cursor: pointer;
  flex-shrink: 0;
}

.comment-item:hover {
  background: var(--psb-white);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.comment-item.active {
  border-left: 4px solid;
  background: var(--psb-white);
}

.comment-item.comment.active { border-left-color: var(--comment-color); }
.comment-item.question.active { border-left-color: var(--question-color); }
.comment-item.idea.active { border-left-color: var(--idea-color); }
.comment-item.important.active { border-left-color: var(--important-color); }

.comment-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  flex-wrap: wrap;
  gap: 6px;
}

/* –ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ */
.video-overlay .play-pause-btn::before,
.video-overlay .big-control::before {
    display: none !important;
    background: transparent !important;
    opacity: 0 !important;
    visibility: hidden !important;
}

/* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Å—Ç–∏–ª–µ–π */
.video-overlay button::before {
    content: none !important;
}

.comment-author {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--psb-dark);
  font-weight: 600;
  font-size: 0.9rem;
}

.author-avatar {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: var(--primary-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.6rem;
  color: white;
  font-weight: 700;
}

.comment-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.comment-type {
  padding: 3px 6px;
  border-radius: 4px;
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
}

.comment-type.comment {
  background: rgba(59, 130, 246, 0.1);
  color: var(--comment-color);
  border: 1px solid rgba(59, 130, 246, 0.2);
}

.comment-type.question {
  background: rgba(239, 68, 68, 0.1);
  color: var(--question-color);
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.comment-type.idea {
  background: rgba(16, 185, 129, 0.1);
  color: var(--idea-color);
  border: 1px solid rgba(16, 185, 129, 0.2);
}

.comment-type.important {
  background: rgba(245, 158, 11, 0.1);
  color: var(--important-color);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.comment-time {
  color: var(--psb-gray);
  font-size: 0.75rem;
  display: flex;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  font-weight: 500;
}

.comment-content {
  color: var(--psb-dark);
  line-height: 1.4;
  margin-bottom: 8px;
  font-size: 0.85rem;
}

.comment-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.comment-action {
  background: none;
  border: none;
  color: var(--psb-gray);
  cursor: pointer;
  font-size: 0.75rem;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: all 0.3s ease;
  font-weight: 500;
  padding: 4px 8px;
  border-radius: 4px;
}

.comment-action:hover {
  color: var(--psb-blue);
  background: var(--psb-light-blue);
}

.section-header{
  margin-bottom: 5px;
}

/* –†–µ—Å–∞–π–∑–µ—Ä –¥–ª—è —Å–∞–π–¥–±–∞—Ä–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ */
.sidebar-resizer {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 6px; /* –¢–æ–ª—â–∏–Ω–∞ –ø–æ–ª–∑—É–Ω–∫–∞ */
    background: transparent;
    cursor: col-resize;
    z-index: 11;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.sidebar-resizer:hover,
.sidebar-resizer.dragging {
    opacity: 1;
    background: var(--psb-blue);
    width: 8px; /* –ù–µ–º–Ω–æ–≥–æ —Ç–æ–ª—â–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}

.markers-sidebar {
    position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è resizer */
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ–¥ –∏–∑–º–µ–Ω—è–µ–º—É—é —à–∏—Ä–∏–Ω—É */
.video-player-container {
    flex: 1 1 auto; /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫ –º–µ—Å—Ç–∞ */
}

/* –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–µ—Ä–Ω—É—Ç–æ–≥–æ —Å–∞–π–¥–±–∞—Ä–∞ (resizer —Å–∫—Ä—ã—Ç) */
.markers-sidebar.collapsed .sidebar-resizer {
    display: none;
}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è */
.comment-modal {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    box-shadow:
        0 20px 60px rgba(0, 51, 160, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    max-width: 480px;
    width: 90%;
    backdrop-filter: var(--glass-blur);
    overflow: hidden;
    transform: scale(0.95);
    animation: modalAppear 0.3s ease forwards;
}

@keyframes modalAppear {
    to {
        transform: scale(1);
    }
}

.comment-modal .modal-header {
    background: linear-gradient(135deg, var(--psb-blue), #0048CC);
    border-radius: 20px 20px 0 0;
    padding: 24px;
    position: relative;
    overflow: hidden;
}

.comment-modal .modal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.4),
        transparent
    );
}

.comment-modal .modal-header h4 {
    color: white;
    margin: 0;
    font-weight: 700;
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.comment-modal .modal-header h4::before {
    content: 'üí¨';
    font-size: 1.1em;
}

.comment-modal .modal-body {
    padding: 24px;
    background: linear-gradient(to bottom,
        rgba(255, 255, 255, 0.9),
        rgba(255, 255, 255, 0.8)
    );
}

.comment-modal .form-group {
    margin-bottom: 24px;
}

.comment-modal .form-group label {
    display: block;
    color: var(--psb-dark);
    margin-bottom: 12px;
    font-weight: 600;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.comment-modal .form-group label::before {
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    font-size: 0.9em;
    opacity: 0.7;
}

.comment-modal .form-group:nth-child(1) label::before {
    content: 'üéØ';
}

.comment-modal .form-group:nth-child(2) label::before {
    content: 'üìù';
}

.comment-modal .form-group:nth-child(3) label::before {
    content: '‚è±Ô∏è';
}

.comment-type-selector {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.type-btn {
    background: var(--psb-light-gray);
    border: 2px solid var(--psb-border);
    border-radius: 12px;
    padding: 14px 12px;
    color: var(--psb-gray);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    position: relative;
    overflow: hidden;
}

.type-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.4),
        transparent
    );
    transition: left 0.6s ease;
}

.type-btn:hover::before {
    left: 100%;
}

.type-btn.active {
    background: var(--psb-blue);
    color: white;
    border-color: var(--psb-blue);
    transform: translateY(-2px);
    box-shadow:
        0 8px 20px rgba(0, 51, 160, 0.3),
        0 2px 4px rgba(0, 51, 160, 0.1);
}

.type-btn:hover:not(.active) {
    background: var(--psb-light-blue);
    border-color: var(--psb-blue);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 51, 160, 0.15);
}

.type-btn i {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
}

.type-btn.active i {
    transform: scale(1.1);
}

.type-btn:hover i {
    transform: scale(1.05);
}

#commentText {
    width: 100%;
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid var(--psb-border);
    border-radius: 12px;
    padding: 16px;
    color: var(--psb-dark);
    resize: vertical;
    font-family: inherit;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    min-height: 120px;
    line-height: 1.5;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

#commentText::placeholder {
    color: var(--psb-gray);
    font-style: italic;
}

#commentText:focus {
    outline: none;
    border-color: var(--psb-blue);
    background: white;
    box-shadow:
        0 0 0 3px rgba(0, 51, 160, 0.1),
        inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* –†–µ–≥—É–ª—è—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ */
.time-adjust-container {
    background: var(--psb-light-gray);
    border: 1px solid var(--psb-border);
    border-radius: 12px;
    padding: 16px;
    margin-top: 8px;
}

.time-adjust {
    width: 100%;
    margin: 8px 0;
    -webkit-appearance: none;
    appearance: none;
    height: 6px;
    background: linear-gradient(to right,
        #e2e8f0,
        var(--psb-blue) 50%,
        #e2e8f0
    );
    border-radius: 3px;
    outline: none;
    background-size: 50% 100%;
    background-repeat: no-repeat;
}

.time-adjust::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    background: var(--psb-blue);
    border-radius: 50%;
    cursor: pointer;
    box-shadow:
        0 2px 8px rgba(0, 51, 160, 0.3),
        0 0 0 2px white;
    border: 2px solid white;
    transition: all 0.2s ease;
}

.time-adjust::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow:
        0 4px 12px rgba(0, 51, 160, 0.4),
        0 0 0 2px white;
}

.time-adjust::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: var(--psb-blue);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow:
        0 2px 8px rgba(0, 51, 160, 0.3),
        0 0 0 2px white;
    transition: all 0.2s ease;
}

.time-adjust-labels {
    display: flex;
    justify-content: space-between;
    color: var(--psb-gray);
    font-size: 0.8rem;
    margin-top: 8px;
    font-weight: 500;
}

.time-adjust-labels span:nth-child(2) {
    color: var(--psb-blue);
    font-weight: 600;
}

.current-time-display {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 12px;
    padding: 8px 12px;
    background: var(--psb-light-blue);
    border-radius: 8px;
    font-weight: 600;
    color: var(--psb-blue);
    font-size: 0.9rem;
}

.comment-modal .modal-footer {
    padding: 20px 24px;
    border-top: 1px solid var(--psb-border);
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    background: rgba(255, 255, 255, 0.5);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
@media (max-width: 768px) {
    .comment-modal {
        max-width: 90%;
        margin: 20px;
    }
   
    .comment-modal .modal-body {
        padding: 20px;
    }
   
    .comment-type-selector {
        grid-template-columns: 1fr;
        gap: 8px;
    }
   
    .type-btn {
        flex-direction: row;
        justify-content: flex-start;
        padding: 12px;
    }
   
    #commentText {
        min-height: 100px;
    }
}

@media (max-width: 480px) {
    .comment-modal {
        max-width: 95%;
        margin: 10px;
    }
   
    .comment-modal .modal-header {
        padding: 20px;
    }
   
    .comment-modal .modal-body {
        padding: 16px;
    }
   
    .comment-modal .modal-footer {
        padding: 16px 20px;
        flex-direction: column;
    }
   
    .comment-modal .modal-footer button {
        width: 100%;
    }
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.comment-modal.show {
    animation: slideInUp 0.3s ease forwards;
}

/* ==================== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• ==================== */
@media (max-width: 768px) {
  .modal {
      padding: 0;
  }
 
  .video-modal {
      width: 100%;
      height: 100vh;
      border-radius: 0;
  }
 
  .modal-header {
      border-radius: 0;
      padding: 12px 16px;
  }
 
  .modal-header h3 {
      font-size: 1rem;
  }
 
  .video-meta {
      font-size: 0.75rem;
      gap: 10px;
  }
 
  /* –ú–û–ë–ò–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê - –ú–ï–ù–¨–®–ï –í–ò–î–ï–û, –ë–û–õ–¨–®–ï –ö–û–ù–¢–ï–ù–¢–ê */
  .video-main-container {
      flex-direction: column;
      height: auto;
      flex: 1;
      min-height: 0;
  }
 
  .video-player-container {
      flex: 1; /* –í 2 –†–ê–ó–ê –ú–ï–ù–¨–®–ï –í–ò–î–ï–û */
      min-height: 30vh;
  }
 
  .video-wrapper {
      min-height: 200px;
  }
 
  /* –°–∫—Ä—ã–≤–∞–µ–º —Å–∞–π–¥–±–∞—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .markers-sidebar {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--glass-bg);
      z-index: 100;
      border: none;
      max-width: none;
  }
 
  .markers-sidebar.mobile-visible {
      display: flex;
  }
 
  .markers-sidebar-content {
      padding: 16px;
      height: 100%;
  }
 
  /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–∞–π–¥–±–∞—Ä–∞ */
  .markers-toggle-btn {
      display: flex;
  }
 
  .custom-controls {
      padding: 0;
  }
 
  .controls-panel {
    padding: 4px 8px;
    flex-wrap: wrap;
  }
 
  .controls-center {
      position: static;
      transform: none;
      order: 2;
      flex-basis: 100%;
      justify-content: center;
      margin: 4px 0;
  }
 
  .control-btn {
      font-size: 1rem;
      padding: 2px;
  }
 
  .video-progress-bar {
      height: 3px;
  }
 
  .video-progress-bar:hover {
      height: 4px;
  }
 
  /* –ü–ê–ù–ï–õ–¨ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í –°–ö–†–û–õ–õ */
  .video-panel {
      height: 40vh; /* –ë–û–õ–¨–®–ï –ú–ï–°–¢–ê –î–õ–Ø –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í */
      flex: 2; /* –í 2 –†–ê–ó–ê –ë–û–õ–¨–®–ï –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í */
  }
 
  .comments-section {
      padding: 16px;
      height: 100%;
  }
 
  .comments-filters {
      justify-content: center;
  }
 
  .filter-btn {
      flex: 1;
      min-width: 0;
      justify-content: center;
      font-size: 0.65rem;
      padding: 4px 8px;
  }
 
  .comments-list {
      flex: 1;
      overflow-y: auto;
      min-height: 0;
  }
 
  /* –°–ö–†–û–õ–õ –î–õ–Ø –ú–ï–¢–û–ö */
  .markers-list {
      flex: 1;
      overflow-y: auto;
      min-height: 0;
  }
}

@media (max-width: 480px) {
  .modal-header {
      padding: 10px 12px;
      flex-direction: column;
      gap: 8px;
      align-items: flex-start;
  }
 
  .modal-header-content {
      width: 100%;
  }
 
  .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 32px;
      height: 32px;
      font-size: 1rem;
  }
 
  .video-meta {
      flex-wrap: wrap;
      gap: 6px;
  }
 
  .custom-controls {
      padding: 0;
  }
 
  .controls-right {
      gap: 2px;
  }
 
  .control-btn {
      font-size: 0.9rem;
      padding: 2px;
  }
 
  .comments-section, .markers-sidebar-content {
      padding: 12px;
  }
 
  .comment-item {
      padding: 10px;
  }
 
  .comment-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
  }
 
  .comment-meta {
      width: 100%;
      justify-content: space-between;
  }
 
  .video-panel {
      height: 45vh;
  }
}

/* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º */
.video-wrapper:-webkit-full-screen {
  width: 100%;
  height: 100%;
}
.video-wrapper:-moz-full-screen {
  width: 100%;
  height: 100%;
}
.video-wrapper:-ms-fullscreen {
  width: 100%;
  height: 100%;
}
.video-wrapper:fullscreen {
  width: 100%;
  height: 100%;
}
.video-wrapper:fullscreen .custom-controls {
  opacity: 1;
  transform: translateY(0);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes slideIn {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
@keyframes slideOut {
  from { transform: translateX(0); opacity: 1; }
  to { transform: translateX(100%); opacity: 0; }
}

.no-comments {
  text-align: center;
  padding: 30px 20px;
  color: var(--psb-gray);
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.no-comments i {
  font-size: 2rem;
  margin-bottom: 10px;
  opacity: 0.5;
}
.no-comments p {
  margin: 0 0 6px 0;
  font-weight: 600;
  font-size: 0.9rem;
}
.no-comments small {
  opacity: 0.7;
  font-size: 0.8rem;
}

/* –°–∫—Ä—ã—Ç–∏–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ */
#mainVideo::-webkit-media-controls {
  display: none !important;
}
#mainVideo::-webkit-media-controls-enclosure {
  display: none !important;
}

/* –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–µ—Ä–Ω—É—Ç–æ–≥–æ —Å–∞–π–¥–±–∞—Ä–∞ */
.markers-sidebar.collapsed {
    max-width: 60px;
}

.markers-sidebar.collapsed .markers-sidebar-content {
    padding: 20px 5px;
}

.markers-sidebar.collapsed .section-header h4,
.markers-sidebar.collapsed .markers-count,
.markers-sidebar.collapsed .marker-preview {
    display: none;
}

.markers-sidebar.collapsed .marker-time {
    font-size: 0.8rem;
    text-align: center;
}

.markers-sidebar.collapsed .marker-item {
    padding: 8px;
    justify-content: center;
}

/* –°–∫—Ä—ã—Ç–∏–µ –±–æ–ª—å—à–∏—Ö/–º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–Ω–æ–ø–æ–∫ –ø–æ —ç–∫—Ä–∞–Ω–∞–º */
@media (min-width: 769px) {
    .video-overlay {
        display: none !important;
    }
}

@media (max-width: 768px) {
    .controls-center {
        display: none !important;
    }
}